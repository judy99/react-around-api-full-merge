{"version":3,"sources":["components/ProtectedRoute.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Header.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteConfirmationPopup.js","components/PopupWithImage.js","components/Main.js","utils/api.js","components/Loader.js","components/Form.js","components/InfoToolTip.js","components/Register.js","utils/utils.js","components/Login.js","components/App.js","utils/auth.js","serviceWorker.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","Footer","className","CurrentUserContext","React","createContext","Card","currentUser","useContext","useState","card","likes","some","i","_id","liked","setLiked","cardLikes","length","counterLikes","setCounterLikes","isOwn","owner","cardDeleteButtonClassName","cardLikeButtonClassName","useEffect","onClick","e","onCardClick","style","backgroundImage","link","stopPropagation","onCardDelete","name","onCardLike","Header","href","children","PopupWithForm","isOpen","onClose","action","method","onSubmit","noValidate","title","type","value","EditProfilePopup","setName","description","setDescription","about","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","onChange","target","required","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","avatar","ref","AddPlacePopup","setLink","onAddPlace","DeleteConfirmationPopup","onConfirmDelete","PopupWithImage","src","alt","Main","Provider","activeClassName","username","onSignOut","onEditAvatar","onEditProfile","cards","map","item","key","onSelectedCard","isEditProfilePopupOpen","closeAllPopups","handleUpdateUser","isEditAvatarPopupOpen","handleUpdateAvatar","isAddPlacePopupOpen","handleAddPlace","isDeleteConfirmationPopup","handleConfirmDelete","isPopupWithImageOpen","selectedCard","Api","baseUrl","headers","this","fetch","then","res","ok","json","Promise","reject","status","body","JSON","stringify","cardID","message","all","getInitialCards","getUserInfo","cardId","cardStatus","removeLike","addLike","Loader","Form","InfoToolTip","isRegistered","Register","email","setEmail","password","setPassword","setRegistered","isInfoToolTip","setInfoToolTip","currentTarget","reset","resetForm","handleSignup","onCloseToolTip","httpStatusCode","BASE_URL","Login","handleLogin","App","setEditPopup","setAddPlace","setEditAvatar","setDeleteConfirmationPopup","setPopupWithImage","isLoading","setIsLoading","setSelectedCard","deleteCard","setDeleteCard","setCards","setCardLikes","setCurrentUser","setLoggedIn","setUsername","localStorage","getItem","token","setToken","api","Authorization","history","useHistory","jwt","err","Error","String","data","auth","push","catch","console","log","finally","getAppInfo","path","response","setTimeout","setItem","removeItem","user","updateUserInfo","setUserAvatar","newCard","addCard","removeCard","newCards","filter","c","exact","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.855236f3.chunk.js","sourcesContent":["import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\n// this component can take a component as a prop\n// it can also recieve an infinite number of props to pass down\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to='./signin' />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">\n        © 2020 Around The U.S.\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [liked, setLiked] = React.useState(props.card.likes.some(i => i === currentUser._id));\n  const [counterLikes, setCounterLikes] = React.useState(props.cardLikes.length);\n\n  // Checking if you are the owner of the current card\n  const isOwn = props.card.owner === currentUser._id;\n\n  // Creating a variable which you'll then set in `className` for the delete button\n  const cardDeleteButtonClassName = (\n  `btn gallery__icon-trash ${isOwn ? ' ' : 'gallery__icon-trash_hidden'}`\n  );\n\n  const cardLikeButtonClassName = (\n    `btn gallery__like ${liked ? 'gallery__like_active' : ''} `\n  );\n\n  function handleClick(e) {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick (e) {\n    e.stopPropagation();\n    setLiked(!liked);\n    liked ? setCounterLikes(counterLikes - 1) : setCounterLikes(counterLikes + 1);\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick(e) {\n    e.stopPropagation();\n    props.onCardDelete(props.card);\n  }\n\n  React.useEffect(() => {\n    setLiked(props.cardLikes.some(i => i === currentUser._id));\n    setCounterLikes(props.cardLikes.length);\n}, [props.cardLikes]);\n\n  return (\n    <li className=\"gallery__item\" onClick={handleClick} style={{ backgroundImage: `url(${props.card.link})` }}  >\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} ></button>\n      <div className=\"gallery__bottom\" >\n        <h2 className=\"gallery__title\">{props.card.name}</h2>\n        <div className=\"gallery__like-wrapper\">\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} ></button>\n          <div className=\"gallery__score\">{counterLikes}</div>\n        </div>\n      </div>\n    </li>\n  );\n}\nexport default Card;\n","import React from 'react';\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <a href=\"/\" className=\"link header__logo logo\">Around\n      <span className=\"logo__small\">The U.S.</span>\n      </a>\n      <ul className=\"menu\">\n        {props.children}\n      </ul>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n  return (\n    <div className={`popup ${(props.isOpen) ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <span className=\"popup__close\" onClick={props.onClose}>+</span>\n        <form action=\"#\" method=\"post\" className={`form ${props.name}`} name={`${props.name}`} onSubmit={props.onSubmit} noValidate>\n          <h2 className={`${props.name}__heading`}>{props.title}</h2>\n          {props.children}\n          <input type=\"submit\" name=\"save\" className={`btn form__submit ${props.name}__save`} value={props.value} />\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  // After loading the current user from the API\n  // their data will be used in managed components.\n  React.useEffect(() => {\n    setName(name || currentUser.name);\n    setDescription(description || currentUser.about);\n}, [currentUser.name, currentUser.about]);\n\n\n\n  function handleSubmit(e) {\n  e.preventDefault();\n  // Pass the values of the managed components to the external handler\n  props.onUpdateUser({\n    name: name,\n    about: description,\n  });\n  }\n\n  function handleOnChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleOnChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  return (\n    <PopupWithForm title='Edit profile' name='edit-profile' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} value='Save' >\n      <input type=\"text\" name=\"name\" id=\"name-input\" className=\"form__input edit-profile__name\" placeholder=\"Name\" minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleOnChangeName} required />\n      <span id=\"name-input-error\" className=\"form__input-error\"></span>\n      <input type=\"text\" name=\"job\" id=\"job-input\" className=\"form__input edit-profile__job\" placeholder=\"About me\" minLength=\"2\" maxLength=\"200\" onChange={handleOnChangeDescription} value={description || ''} required />\n      <span id=\"job-input-error\" className=\"form__input-error\"></span>\n   </PopupWithForm>\n );\n}\n\nexport default EditProfilePopup;\n","import React, { useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  useEffect(() => {\n    avatarRef.current.value = '';\n  }, [props.isOpen]);\n\n  return (\n      <PopupWithForm title='Change profile picture' name='change-avatar' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} value='Save' >\n        <input type=\"url\" name=\"avatar-link\" id=\"avatar-input\" ref={avatarRef} className=\"form__input change-avatar__link\" placeholder=\"Image URL\" required />\n        <span id=\"avatar-input-error\" className=\"form__input-error\"></span>\n      </PopupWithForm>\n    );\n}\n\nexport default EditAvatarPopup;\n","import React, {useEffect} from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleOnChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleOnChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    // Pass the values of the managed components to the external handler\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n  }\n\n  useEffect(() => {\n    setName('');\n    setLink('');\n  }, [props.isOpen]);\n\n\n  return (\n    <PopupWithForm title='New place' name='add-card' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} value='Add place'>\n       <input type=\"text\" name=\"name\" id=\"title-input\" value={name} onChange={handleOnChangeName} className=\"form__input add-card__title\" placeholder=\"Title\" minLength=\"2\" maxLength=\"30\" required />\n       <span id=\"title-input-error\" className=\"form__input-error\"></span>\n       <input type=\"url\" name=\"link\" id=\"link-input\" value={link} onChange={handleOnChangeLink} className=\"form__input add-card__image-link\" placeholder=\"Image URL\" required />\n       <span id=\"link-input-error\" className=\"form__input-error\"></span>\n      </PopupWithForm>\n  );\n}\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteConfirmationPopup(props) {\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onConfirmDelete(props.card);\n  }\n\n  return (\n    < PopupWithForm title='Are you sure?' name='delete-card' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} value='Yes'>\n    < /PopupWithForm>\n  );\n}\n\nexport default DeleteConfirmationPopup;\n","import React from 'react';\n\nfunction PopupWithImage (props) {\n  if ((props.card) !== null) {\n  return (\n    <div className='popup popup_dark popup_opened'>\n      <div className=\"popup__container popup__container_photo\">\n        <span className=\"popup__close\" onClick={props.onClose}>+</span>\n        <figure className=\"photo\">\n\n        <img className=\"photo__item\" src={props.card.link} alt={props.card.name} />\n        <figcaption className=\"photo__title\">{props.card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n} else {\n  return (\n    <></>\n  );\n}\n}\n\nexport default PopupWithImage;\n","import React from 'react';\nimport Card from './Card';\nimport Header from './Header';\nimport { NavLink } from 'react-router-dom';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteConfirmationPopup from './DeleteConfirmationPopup';\nimport PopupWithImage from './PopupWithImage';\n\nfunction Main(props) {\n\n  return (\n    <>\n    <CurrentUserContext.Provider value={props.currentUser}>\n    <Header>\n      <li><NavLink to=\"/\" className=\"menu__link\" activeClassName=\"menu__link_active\" >{props.username}</NavLink></li>\n      <li><NavLink to=\"/signin\" className=\"menu__link\" onClick={props.onSignOut}>Log out</NavLink></li>\n    </Header>\n    <main className=\"main\">\n\n      <section className=\"profile\">\n        <div className=\"profile__person\">\n          <div className=\"profile__avatar-wrapper\">\n            <img src={props.currentUser.avatar} alt=\"User ptofile avatar\" className=\"profile__avatar\" />\n            <div className=\"profile__avatar-hover\" onClick={props.onEditAvatar} ></div>\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__info-wrapper\">\n              <h1 className=\"profile__name\">{props.currentUser.name}</h1>\n              <button type=\"button\" className=\"btn profile__edit-btn\" onClick={props.onEditProfile}></button>\n            </div>\n            <p className=\"profile__occupation\">{props.currentUser.about}</p>\n          </div>\n        </div>\n        <button type=\"button\" className=\"btn profile__add-btn\" onClick={props.onAddPlace}></button>\n      </section>\n      <ul className=\"gallery\">\n      { props.cards.map(item => {\n        return <Card card={item} key={item._id} cardLikes={item.likes} onCardClick={props.onSelectedCard} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} /> }\n      )\n    }\n      </ul>\n    </main>\n\n    <EditProfilePopup isOpen={props.isEditProfilePopupOpen} onClose={props.closeAllPopups} onUpdateUser={props.handleUpdateUser} />\n    <EditAvatarPopup isOpen={props.isEditAvatarPopupOpen} onClose={props.closeAllPopups} onUpdateAvatar={props.handleUpdateAvatar} />\n    <AddPlacePopup isOpen={props.isAddPlacePopupOpen} onClose={props.closeAllPopups} onAddPlace={props.handleAddPlace} />\n    <DeleteConfirmationPopup isOpen={props.isDeleteConfirmationPopup} onClose={props.closeAllPopups} onConfirmDelete={props.handleConfirmDelete} />\n    <PopupWithImage isOpen={props.isPopupWithImageOpen} card={props.selectedCard} onClose={props.closeAllPopups} />\n\n    </CurrentUserContext.Provider>\n    </>\n  );\n}\nexport default Main;\n","export class Api {\n  constructor ({\n    baseUrl,\n    headers\n  }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  // GET http://www.liakurianova.students.nomoreparties.site/cards\n  getInitialCards () {\n    return fetch(this.baseUrl + '/cards', {\n      headers: this.headers\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Error: ${res.status}`);\n        }\n      });\n  }\n\n  // GET http://www.liakurianova.students.nomoreparties.site/users/me\n  getUserInfo () {\n    return fetch(this.baseUrl + '/users/me', {\n      headers: this.headers,\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Error: ${res.status}`);\n        }\n      });\n  }\n\n  // POST http://www.liakurianova.students.nomoreparties.site/cards\n  addCard ({\n  name,\n  link\n}) {\n    return fetch(this.baseUrl + '/cards', {\n      headers: this.headers,\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Error: ${res.status}`);\n        }\n      });\n  }\n\n  // DELETE http://www.liakurianova.students.nomoreparties.site/cards/cardID\n  removeCard (cardID) {\n    return fetch(this.baseUrl + '/cards/' + cardID, {\n      headers: this.headers,\n      method: 'DELETE'\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Error: ${res.status} ${res.message}`);\n        }\n      });\n  }\n\n  getAppInfo () {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\n  }\n\n  // add likes\n  // PUT http://www.liakurianova.students.nomoreparties.site/cards/likes/cardId\n  addLike (cardId) {\n    return fetch(this.baseUrl + '/cards/likes/' + cardId, {\n      headers: this.headers,\n      method: 'PUT'\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Error: ${res.status}`);\n        }\n      });\n  }\n\n  // DELETE http://www.liakurianova.students.nomoreparties.site/cards/likes/cardId\n  removeLike (cardId) {\n    return fetch(this.baseUrl + '/cards/likes/' + cardId, {\n      headers: this.headers,\n      method: 'DELETE'\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Error: ${res.status}`);\n        }\n      });\n  }\n\n  changeLikeCardStatus (cardId, cardStatus) {\n    if (!cardStatus) {\n      this.addLike(cardId);\n    }\n    else {\n      this.removeLike(cardId)\n    }\n  }\n\n  // Editing the Profile\n  // PATCH http://www.liakurianova.students.nomoreparties.site/users/me\n  updateUserInfo ({ name, about }) {\n    return fetch(this.baseUrl + '/users/me', {\n      headers: this.headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Error: ${res.status}`);\n        }\n      });\n  }\n\n  // PATCH http://www.liakurianova.students.nomoreparties.site/users/me/avatar\n  setUserAvatar (avatar) {\n    return fetch(this.baseUrl + '/users/me/avatar', {\n      headers: this.headers,\n      method: 'PATCH',\n      body: JSON.stringify(avatar),\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Error: ${res.status} ${res.message}`);\n        }\n      });\n  }\n}\n","import React from 'react';\n\nfunction Loader() {\n  return (\n    <>\n    <div className=\"loader\">\n      <i className=\"fa fa-cog fa-spin\" />\n    </div>\n    </>\n  );\n}\n\nexport default Loader;\n","import React from 'react';\n\nfunction Form(props) {\n  return (\n    <form action=\"#\" method=\"post\" className={`form ${props.name}`} name={`${props.name}`} onSubmit={props.onSubmit} noValidate>\n    <h2 className={`${props.name}__heading`}>{props.title}</h2>\n      {props.children}\n    <input type=\"submit\" name=\"save\" className={`btn form__submit ${props.name}__save`} value={props.value} />\n  </form>\n  );\n}\n\nexport default Form;\n","import React from 'react';\n\nfunction InfoToolTip(props) {\n  return (\n    <div className={`popup ${(props.isOpen) ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <span className=\"popup__close\" onClick={props.onClose}>+</span>\n        <div className={ `${props.name} ${props.name}__icon ${ (props.isRegistered) ? `${props.name}__icon_state_yes` : `${props.name}__icon_state_no` } ` } >\n        <h2 className={`${props.name}__heading`}>{props.title}</h2>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoToolTip;\n","import React, { useState, useEffect } from 'react';\nimport { Link, NavLink, useHistory } from 'react-router-dom';\nimport Form from './Form.js';\nimport Header from './Header.js';\nimport InfoToolTip from './InfoToolTip.js';\n\nfunction Register (props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isRegistered, setRegistered] = useState(false);\n  const [isInfoToolTip, setInfoToolTip] = useState(false);\n\n  const handleOnChangeEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handleOnChangePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const resetForm = (e) => {\n    e.currentTarget.reset();\n  };\n\n  const handleSubmit = (e) => {\n      e.preventDefault();\n      resetForm(e);\n      props.handleSignup(email, password);\n    };\n\n    useEffect( () => {\n        setRegistered(props.isRegistered);\n        setInfoToolTip(props.isInfoToolTip);\n    }, [props.isRegistered, props.isInfoToolTip]);\n\n  return (\n    <>\n    <Header>\n      <li><NavLink to=\"/signin\" className=\"menu__link\">Log In</NavLink></li>\n    </Header>\n    <div className='main'>\n    <div className='main__container'>\n    <Form title='Sign Up' name='login' id='login' onSubmit={handleSubmit} value='Sign up'>\n      <input type='email' name='email' id='email-input' className='form__input login__email' placeholder='Email' onChange={handleOnChangeEmail} required />\n      <span id='email-input-error' className='form__input-error'></span>\n      <input type='password' name='password' id='password-input' className='form__input login__password' placeholder='Password' onChange={handleOnChangePassword} required />\n      <span id='password-input-error' className='form__input-error'></span>\n    </Form>\n    <Link className='login__link' to=\"/signin\">Already a member? Log in here</Link>\n    </div>\n    </div>\n\n    { isRegistered ?\n      <InfoToolTip name='tool-tip' isRegistered={isRegistered} isOpen={isInfoToolTip} title='Success! You have now been registered.' onClose={props.onCloseToolTip} />\n      : <InfoToolTip isOpen={isInfoToolTip} isRegistered={isRegistered} title='Oops, something went wrong! Please try again.' name='tool-tip' onClose={props.onCloseToolTip} />\n    }\n\n    </>\n\n  );\n}\n\nexport default Register;\n","// utils is a place where you hold functions that are not related to any module or class.\n// This is due to the fact that JS is not a strict language. You can use functions, objects, prototypes, classes for the same things.\n// Lazy programmers, who can’t split a program into modules clearly, usually place a lot of code into utils.\n// This causes problems when you try to find some function inside a big heap of code.\n// So a utils folder or a utils.js should be as smaller as you can.\n// Group functions, allocate modules, don’t grow this junkyard)\n\nexport const httpStatusCode = {\n  OK: 200,\n  CREATED: 201,\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  NOT_FOUND: 404,\n  SERVER_ERROR: 500,\n};\n\n// export const BASE_URL = 'http://www.liakurianova.students.nomoreparties.site';\nexport const BASE_URL = 'http://localhost:3000';\n","import React, { useEffect } from 'react';\nimport { Link, NavLink, useHistory } from 'react-router-dom';\nimport Form from './Form.js';\nimport Header from './Header.js';\nimport * as auth from '../utils/auth.js';\nimport { httpStatusCode } from '../utils/utils.js';\nimport {api} from '../utils/api.js';\n\n\nfunction Login (props) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const handleOnChangeEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handleOnChangePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const resetForm = (e) => {\n    e.currentTarget.reset();\n  };\n\n  const handleSubmit = (e) => {\n      e.preventDefault();\n      props.handleLogin(email, password);\n      resetForm(e);\n    };\n    \n  return (\n    <>\n    <Header>\n      <li><NavLink to=\"/signup\" className=\"menu__link\">Sign Up</NavLink></li>\n    </Header>\n    <div className='main'>\n    <div className='main__container'>\n    <Form title='Log in' name='login' id='login' onSubmit={handleSubmit} value='Log in' isOpen='true'>\n      <input type='email' name='email' id='email-input' className='form__input login__email' placeholder='Email' onChange={handleOnChangeEmail} required />\n      <span id='email-input-error' className='form__input-error'></span>\n      <input type='password' name='password' id='password-input' className='form__input login__password' placeholder='Password' onChange={handleOnChangePassword} required />\n      <span id='password-input-error' className='form__input-error'></span>\n    </Form>\n    <Link className='login__link' to=\"/signup\">Not a member yet? Sign up here!</Link>\n    </div>\n    </div>\n    </>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport Footer from './Footer';\nimport Main from './Main';\nimport {Api} from '../utils/api.js';\nimport Loader from './Loader';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Register from './Register';\nimport Login from './Login';\nimport * as auth from '../utils/auth.js';\nimport { httpStatusCode } from '../utils/utils.js';\nimport { BASE_URL } from '../utils/utils.js';\n\nfunction App() {\n  const DELAY_REDIRECT = 3000;\n\n  const [isEditProfilePopupOpen, setEditPopup] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlace] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatar] = React.useState(false);\n  const [isDeleteConfirmationPopup, setDeleteConfirmationPopup] = React.useState(false);\n  const [isPopupWithImageOpen, setPopupWithImage] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [deleteCard, setDeleteCard] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n  const [cardLikes, setCardLikes] = React.useState([]);\n\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [username, setUsername] = React.useState('');\n  const [isRegistered, setRegistered] = React.useState(false);\n  const [isInfoToolTip, setInfoToolTip] = React.useState(false);\n  const [token, setToken] = React.useState(localStorage.getItem('jwt'));\n\n  const api = new Api({\n    baseUrl: BASE_URL,\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  const history = useHistory();\n\n  function handleCardLike(card) {\n    // Check one more time if this card was already liked\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    // Send a request to the API and getting the updated card data\n    if (isLiked) {\n      setIsLoading(true);\n      api.removeLike(card._id)\n      .then((card) => {\n        // Create a new array based on the existing one and putting a new card into it\n        // const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCardLikes(card.likes);\n      })\n      .catch(err => console.log(err))\n      .finally(() => setIsLoading(false));\n\n    } else {\n      setIsLoading(true);\n      api.addLike(card._id)\n      .then((card) => {\n        // Create a new array based on the existing one and putting a new card into it\n        // const newCard = card.likes.map((c) => c._id === card._id ? newCard : c);\n        setCardLikes(card.likes);\n      })\n      .catch(err => console.log(err))\n      .finally(() => setIsLoading(false));\n    }\n}\n\n  function handleCardDelete(card) {\n    setDeleteConfirmationPopup(!isDeleteConfirmationPopup);\n    setDeleteCard(card);\n  }\n\n  function handleConfirmDelete() {\n    setIsLoading(true);\n    closeAllPopups();\n    if (isDeleteConfirmationPopup) {\n      api.removeCard(deleteCard._id)\n      .then((card) => {\n      // Create a new array based on the existing one and removing a card from it\n        const newCards = cards.filter((c) => c._id !== deleteCard._id);\n      // Update the state\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setDeleteCard(null);\n        setIsLoading(false);\n    });\n  }\n}\n\n  function handleEditAvatarClick () {\n    setEditAvatar(true);\n  }\n\n  function handleEditProfileClick () {\n    setEditPopup(true);\n  }\n\n  function handleAddPlaceClick () {\n    setAddPlace(true);\n  }\n\n  function closeAllPopups () {\n    setEditAvatar(false);\n    setEditPopup(false);\n    setAddPlace(false);\n    setSelectedCard(null);\n    setDeleteConfirmationPopup(false);\n    setInfoToolTip(false);\n  }\n\n  function handleCardClick(card) {\n    setPopupWithImage(true);\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(user) {\n    setIsLoading(true);\n    closeAllPopups();\n    api.updateUserInfo(user).then((res) => {\n      setCurrentUser({...currentUser, name: res.data.name, about: res.data.about});\n    }).catch((err) => console.log(err))\n    .finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    closeAllPopups();\n    setIsLoading(true);\n    api.setUserAvatar(avatar)\n    .then((res) => {\n      setCurrentUser({...currentUser, avatar: res.data.avatar});\n    })\n    .catch((err) => console.log(err))\n    .finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function handleAddPlace(newCard) {\n    closeAllPopups();\n    setIsLoading(true);\n    api.addCard(newCard)\n    .then((res) => {\n      setCards([res, ...cards]);\n    })\n    .catch((err) => console.log(err))\n    .finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function handleSignup(username, password) {\n      auth.register(username, password)\n      .then((res) => {\n        if (res instanceof Error) {\n          if (res.message === String(httpStatusCode.BAD_REQUEST)) {\n            setRegistered(false);\n            throw new Error('One of the fields was filled in incorrectly');\n          }\n        }\n        else {\n          setRegistered(true);\n          return res;\n        }\n    })\n      .then((res) => {\n        if (!(res instanceof Error)) {\n          setTimeout(() => {\n            closeAllPopups();\n            history.push('/signin');\n          }, DELAY_REDIRECT);\n        }\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setInfoToolTip(true));\n  }\n\n  function handleLogin(username, password) {\n    setIsLoading(true);\n    auth.authorize(username, password)\n    .then((data) => {\n        if (data instanceof Error) {\n          setLoggedIn(false);\n          if (data.message === String(httpStatusCode.BAD_REQUEST))\n            throw new Error('One or more of the fields were not provided.');\n          if (data.message === String(httpStatusCode.UNAUTHORIZED))\n            throw new Error('The user with the specified email not found.');\n        }\n        else if (data.token) {\n          localStorage.setItem('jwt', data.token);\n          setToken(data.token);\n          setUsername(username);\n          setLoggedIn(true);\n          history.push(\"/\");\n          return;\n        }\n    })\n    .catch((err) => console.log(err))\n    .finally(() => setIsLoading(false));\n  }\n\n  function signOut() {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    setUsername('');\n    setCurrentUser({});\n    setCards([]);\n    history.push('/signin');\n  }\n\nReact.useEffect(() => {\n  const jwt = localStorage.getItem('jwt');\n  if (jwt) {\n        setIsLoading(true);\n        auth.getContent(jwt)\n        .then((res) => {\n          if (res instanceof Error) {\n            if (res.message === String(httpStatusCode.UNAUTHORIZED))\n              throw new Error('The provided token is invalid.');\n          }\n            setLoggedIn(true);\n            setUsername(res.email);\n            setToken(jwt);\n          })\n        .then(() => history.push(\"/\"))\n        .catch((err) => console.log(err))\n        .finally(() => setIsLoading(false))\n  }\n  else {\n    history.push('/signin');\n    setIsLoading(false);\n  }\n}, []);\n\nReact.useEffect(() => {\n    if (loggedIn && token)\n    {\n      setIsLoading(true);\n      api.getAppInfo()\n      .then((data) => {\n        setCurrentUser(data[1]);\n        setCards(data[0]);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false))\n  }\n}, [token, loggedIn]);\n\n      return (\n    <div className=\"page\">\n     { isLoading && <Loader /> }\n\n      <Switch>\n        <Route path=\"/signup\">\n          <Register handleSignup={handleSignup} onCloseToolTip={closeAllPopups} isInfoToolTip={isInfoToolTip} isRegistered={isRegistered} />\n        </Route>\n\n        <Route path=\"/signin\">\n          <Login setUsername={setUsername} handleLogin={handleLogin} setToken={setToken} setLoggedIn={setLoggedIn} setCards={setCards} setCurrentUser={setCurrentUser} />\n\n        </Route>\n\n        <ProtectedRoute path=\"/\"\n          component={Main}\n          loggedIn={loggedIn}\n          onEditProfile={handleEditProfileClick}\n          onEditAvatar={handleEditAvatarClick}\n          onAddPlace={handleAddPlaceClick}\n\n          selectedCard={selectedCard}\n          onSelectedCard={handleCardClick}\n          cardLikes={cardLikes}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n          username={username}\n          onSignOut={signOut}\n          currentUser={currentUser}\n\n          closeAllPopups={closeAllPopups}\n\n          isEditProfilePopupOpen={isEditProfilePopupOpen}\n          isAddPlacePopupOpen={isAddPlacePopupOpen}\n          isEditAvatarPopupOpen={isEditAvatarPopupOpen}\n          isDeleteConfirmationPopup={isDeleteConfirmationPopup}\n          isPopupWithImageOpen={isPopupWithImageOpen}\n\n          handleUpdateUser={handleUpdateUser}\n          handleUpdateAvatar={handleUpdateAvatar}\n          handleAddPlace={handleAddPlace}\n          handleConfirmDelete={handleConfirmDelete}\n       />\n       <Route exact path=\"/\">\n            { loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n      </Route>\n\n      </Switch>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import { httpStatusCode, BASE_URL } from '../utils/utils.js';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ email, password })\n  })\n  .then((response) => {\n      if (response.status === httpStatusCode.OK) {\n        return response.json();\n      }\n      else {\n        const err = new Error();\n        err.message = String(httpStatusCode.BAD_REQUEST);\n        return err;\n      }\n  })\n  .then((res) => {\n    return res;\n  })\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ email, password })\n  })\n  .then((response) => {\n      const err = new Error();\n      if (response.status === httpStatusCode.OK) {\n        return response.json();\n      }\n        else if (response.status === httpStatusCode.BAD_REQUEST) {\n          err.message = String(httpStatusCode.BAD_REQUEST);\n          return err;\n        }\n        else if (response.status === httpStatusCode.UNAUTHORIZED) {\n          err.message = String(httpStatusCode.UNAUTHORIZED);\n          return err;\n        }\n        else {\n          return err;\n        }\n  })\n  .then((res) => {\n    return res;\n  });\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(res => {\n      if (res.status === httpStatusCode.UNAUTHORIZED) {\n        const err = new Error();\n        err.message = String(httpStatusCode.UNAUTHORIZED);\n        return err;\n      }\n      return res.json();\n    })\n    .then(data => {\n      return data;\n    });\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}